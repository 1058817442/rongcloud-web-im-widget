
    <div id="rong-conversation" class="kefuChatBox both am-fade-and-slide-top" ng-show="showSelf" ng-class="{'fullScreen':resoures.fullScreen}" ><!-- fullScreen 全屏class -->
        <evaluatedir type="evaluate.type" display="evaluate.showevaluate" confirm="evaluate.onConfirm(data)" cancle="evaluate.onCancle()"></evaluatedir>
        <div class="kefuChat">
            <div id="header" class="header blueBg online">
                <div class="infoBar pull-left">
                    <div class="infoBarTit">
                        <!-- <span class="Presence Presence--stacked"></span> -->
                        <span class="kefuName" ng-bind="currentConversation.title"></span>
                    </div>
                </div>

                <div class="toolBar headBtn pull-right">
                    <a href="javascript:;" class="kefuChatBoxHide sprite" ng-show="!widgetConfig.displayConversationList" ng-click="minimize()"  title="隐藏"></a>
                    <!-- <a href="javascript:;" class="kefuChatBoxMin sprite" ng-show="resoures.fullScreen&&!widgetConfig.displayConversationList" ng-click="resoures.fullScreen=false;" title="还原"></a>
                    <a href="javascript:;" class="kefuChatBoxMax sprite" ng-show="!resoures.fullScreen&&!widgetConfig.displayConversationList" ng-click="resoures.fullScreen=true;" title="最大化"></a> -->
                    <a href="javascript:;" class="kefuChatBoxClose sprite" ng-click="close()" title="结束对话"></a>
                </div>
            </div>
                <!-- outline -->
                <div class="outlineBox hide">
                    <div class="sprite"></div>
                    <span>网络连接断开</span>
                </div>
                <div id="Messages" class="" >
                    <!-- empty -->
                    <div class="emptyBox">暂时没有新消息</div>


                    <div class="MessagesInner">

                        <div ng-repeat="item in messageList" ng-switch="item.panelType">
                            <div class="Messages-date" ng-switch-when="104"><b class="">{{item.sentTime|historyTime}}</b></div>
                            <div class="Messages-history" ng-switch-when="105"><b class="" ng-click="getHistory()">查看历史消息</b></b></div>
                            <div class="Messages-history" ng-switch-when="106"><b class="" ng-click="getMoreMessage()">获取更多消息</b></div>
                            <div class="sys-tips" ng-switch-when="2"><span ng-bind-html="item.content.content|trustHtml"></span></div>
                            <div class="Message" ng-switch-when="1">
                                <div class="Messages-unreadLine"></div>
                                <div>
                                    <div class="Message-header "><img class="img u-isActionable Message-avatar avatar" ng-src="{{item.content.userInfo.portraitUri||'http://7xo1cb.com1.z0.glb.clouddn.com/20160230163460.jpg'}}" alt="">

                                        <div class="Message-author clearfix">
                                          <a class="author u-isActionable">{{item.content.userInfo.name}}</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="Message-body" ng-switch="item.messageType">
                                    <textmessage ng-switch-when="TextMessage" msg="item.content"></textmessage>
                                    <imagemessage ng-switch-when="ImageMessage" msg="item.content"></imagemessage>
                                    <voicemessage ng-switch-when="VoiceMessage" msg="item.content"></voicemessage>
                                    <locationmessage ng-switch-when="LocationMessage" msg="item.content"></locationmessage>
                                    <richcontentmessage ng-switch-when="RichContentMessage" msg="item.content"></richcontentmessage>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <div id="footer" class="footer" style="display: block;">
                <div class="footer-con">
                    <div class="text-layout">
                        <div id="funcPanel" class="funcPanel robotMode">
                            <div class="mode1" ng-show="_inputPanelState==0">
                                <div class="MessageForm-tool" id="expressionWrap">
                                    <i class="sprite iconfont-smile"  ng-click="showemoji=!showemoji"></i>

                                    <div class="expressionWrap" ng-show="showemoji"><i class="arrow"></i>
                                      <emoji ng-repeat="item in emojiList" item="item" content="msgvalue"></emoji>
                                    </div>
                                </div>
                                <div class="MessageForm-tool">
                                  <i class="sprite iconfont-upload" id="upload-file" style="position: relative; z-index: 1;">
                                  </i>
                                </div>
                            </div>
                            <div class="mode2" ng-show="_inputPanelState==2"><a ng-click="switchPerson()" id="chatSwitch" class="chatSwitch">转人工服务</a></div>
                        </div>
                        <pre id="inputMsg" class="text grey" contenteditable contenteditable-dire
                        ng-focus="showemoji=fase"
                        style='background-color: rgba(0,0,0,0);color:black;'
                        ctrl-enter-keys fun="send()" ctrlenter="false" placeholder="请输入文字..." ondrop="return false;"
                        ng-model="currentConversation.messageContent"></pre>
                    </div>
                    <div class="powBox">
                        <button type="button" class="btn send-btn" id="sendBtn" ng-click="send()">发送</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
